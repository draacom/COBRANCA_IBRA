{"ast":null,"code":"import api from './api';\nimport { removeDocumentFormatting, validateCNPJ } from '../utils/documentUtils';\n\n// Função para consultar CNPJ na Receita Federal\nexport const consultarCNPJ = async cnpj => {\n  try {\n    // Remove formatação do CNPJ\n    const cnpjLimpo = removeDocumentFormatting(cnpj);\n\n    // Valida o CNPJ antes de fazer a consulta\n    if (!validateCNPJ(cnpjLimpo)) {\n      throw new Error('CNPJ inválido');\n    }\n\n    // Faz a consulta na API\n    const response = await api.get(`/cnpj/${cnpjLimpo}`);\n    if (response.data.status === 'success') {\n      return response.data.data;\n    } else {\n      throw new Error(response.data.message || 'Erro ao consultar CNPJ');\n    }\n  } catch (error) {\n    // Trata diferentes tipos de erro\n    if (error.response) {\n      var _error$response$data;\n      // Erro da API\n      const message = ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Erro ao consultar CNPJ';\n      throw new Error(message);\n    } else if (error.request) {\n      // Erro de rede\n      throw new Error('Erro de conexão. Verifique sua internet e tente novamente.');\n    } else {\n      // Outros erros\n      throw new Error(error.message || 'Erro inesperado ao consultar CNPJ');\n    }\n  }\n};\n\n// Função para mapear dados da consulta CNPJ para o formato do formulário\nexport const mapearDadosCNPJ = dadosCNPJ => {\n  var _dadosCNPJ$endereco, _dadosCNPJ$endereco2, _dadosCNPJ$endereco3, _dadosCNPJ$endereco4, _dadosCNPJ$endereco5, _dadosCNPJ$endereco6;\n  return {\n    name: dadosCNPJ.nome || '',\n    document: dadosCNPJ.cnpj || '',\n    email: dadosCNPJ.email || '',\n    phone: dadosCNPJ.telefone || '',\n    address: {\n      endereco: ((_dadosCNPJ$endereco = dadosCNPJ.endereco) === null || _dadosCNPJ$endereco === void 0 ? void 0 : _dadosCNPJ$endereco.logradouro) || '',\n      numero: ((_dadosCNPJ$endereco2 = dadosCNPJ.endereco) === null || _dadosCNPJ$endereco2 === void 0 ? void 0 : _dadosCNPJ$endereco2.numero) || '',\n      bairro: ((_dadosCNPJ$endereco3 = dadosCNPJ.endereco) === null || _dadosCNPJ$endereco3 === void 0 ? void 0 : _dadosCNPJ$endereco3.bairro) || '',\n      cidade: ((_dadosCNPJ$endereco4 = dadosCNPJ.endereco) === null || _dadosCNPJ$endereco4 === void 0 ? void 0 : _dadosCNPJ$endereco4.cidade) || '',\n      estado: ((_dadosCNPJ$endereco5 = dadosCNPJ.endereco) === null || _dadosCNPJ$endereco5 === void 0 ? void 0 : _dadosCNPJ$endereco5.estado) || '',\n      cep: ((_dadosCNPJ$endereco6 = dadosCNPJ.endereco) === null || _dadosCNPJ$endereco6 === void 0 ? void 0 : _dadosCNPJ$endereco6.cep) || ''\n    }\n  };\n};","map":{"version":3,"names":["api","removeDocumentFormatting","validateCNPJ","consultarCNPJ","cnpj","cnpjLimpo","Error","response","get","data","status","message","error","_error$response$data","request","mapearDadosCNPJ","dadosCNPJ","_dadosCNPJ$endereco","_dadosCNPJ$endereco2","_dadosCNPJ$endereco3","_dadosCNPJ$endereco4","_dadosCNPJ$endereco5","_dadosCNPJ$endereco6","name","nome","document","email","phone","telefone","address","endereco","logradouro","numero","bairro","cidade","estado","cep"],"sources":["D:/OneDrive/Attachments/Área de Trabalho/projetos/COBRANCA_IBRA/frontend/src/services/cnpjService.js"],"sourcesContent":["import api from './api';\nimport { removeDocumentFormatting, validateCNPJ } from '../utils/documentUtils';\n\n// Função para consultar CNPJ na Receita Federal\nexport const consultarCNPJ = async (cnpj) => {\n  try {\n    // Remove formatação do CNPJ\n    const cnpjLimpo = removeDocumentFormatting(cnpj);\n    \n    // Valida o CNPJ antes de fazer a consulta\n    if (!validateCNPJ(cnpjLimpo)) {\n      throw new Error('CNPJ inválido');\n    }\n    \n    // Faz a consulta na API\n    const response = await api.get(`/cnpj/${cnpjLimpo}`);\n    \n    if (response.data.status === 'success') {\n      return response.data.data;\n    } else {\n      throw new Error(response.data.message || 'Erro ao consultar CNPJ');\n    }\n  } catch (error) {\n    // Trata diferentes tipos de erro\n    if (error.response) {\n      // Erro da API\n      const message = error.response.data?.message || 'Erro ao consultar CNPJ';\n      throw new Error(message);\n    } else if (error.request) {\n      // Erro de rede\n      throw new Error('Erro de conexão. Verifique sua internet e tente novamente.');\n    } else {\n      // Outros erros\n      throw new Error(error.message || 'Erro inesperado ao consultar CNPJ');\n    }\n  }\n};\n\n// Função para mapear dados da consulta CNPJ para o formato do formulário\nexport const mapearDadosCNPJ = (dadosCNPJ) => {\n  return {\n    name: dadosCNPJ.nome || '',\n    document: dadosCNPJ.cnpj || '',\n    email: dadosCNPJ.email || '',\n    phone: dadosCNPJ.telefone || '',\n    address: {\n      endereco: dadosCNPJ.endereco?.logradouro || '',\n      numero: dadosCNPJ.endereco?.numero || '',\n      bairro: dadosCNPJ.endereco?.bairro || '',\n      cidade: dadosCNPJ.endereco?.cidade || '',\n      estado: dadosCNPJ.endereco?.estado || '',\n      cep: dadosCNPJ.endereco?.cep || ''\n    }\n  };\n};"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AACvB,SAASC,wBAAwB,EAAEC,YAAY,QAAQ,wBAAwB;;AAE/E;AACA,OAAO,MAAMC,aAAa,GAAG,MAAOC,IAAI,IAAK;EAC3C,IAAI;IACF;IACA,MAAMC,SAAS,GAAGJ,wBAAwB,CAACG,IAAI,CAAC;;IAEhD;IACA,IAAI,CAACF,YAAY,CAACG,SAAS,CAAC,EAAE;MAC5B,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;IAClC;;IAEA;IACA,MAAMC,QAAQ,GAAG,MAAMP,GAAG,CAACQ,GAAG,CAAC,SAASH,SAAS,EAAE,CAAC;IAEpD,IAAIE,QAAQ,CAACE,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;MACtC,OAAOH,QAAQ,CAACE,IAAI,CAACA,IAAI;IAC3B,CAAC,MAAM;MACL,MAAM,IAAIH,KAAK,CAACC,QAAQ,CAACE,IAAI,CAACE,OAAO,IAAI,wBAAwB,CAAC;IACpE;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd;IACA,IAAIA,KAAK,CAACL,QAAQ,EAAE;MAAA,IAAAM,oBAAA;MAClB;MACA,MAAMF,OAAO,GAAG,EAAAE,oBAAA,GAAAD,KAAK,CAACL,QAAQ,CAACE,IAAI,cAAAI,oBAAA,uBAAnBA,oBAAA,CAAqBF,OAAO,KAAI,wBAAwB;MACxE,MAAM,IAAIL,KAAK,CAACK,OAAO,CAAC;IAC1B,CAAC,MAAM,IAAIC,KAAK,CAACE,OAAO,EAAE;MACxB;MACA,MAAM,IAAIR,KAAK,CAAC,4DAA4D,CAAC;IAC/E,CAAC,MAAM;MACL;MACA,MAAM,IAAIA,KAAK,CAACM,KAAK,CAACD,OAAO,IAAI,mCAAmC,CAAC;IACvE;EACF;AACF,CAAC;;AAED;AACA,OAAO,MAAMI,eAAe,GAAIC,SAAS,IAAK;EAAA,IAAAC,mBAAA,EAAAC,oBAAA,EAAAC,oBAAA,EAAAC,oBAAA,EAAAC,oBAAA,EAAAC,oBAAA;EAC5C,OAAO;IACLC,IAAI,EAAEP,SAAS,CAACQ,IAAI,IAAI,EAAE;IAC1BC,QAAQ,EAAET,SAAS,CAACZ,IAAI,IAAI,EAAE;IAC9BsB,KAAK,EAAEV,SAAS,CAACU,KAAK,IAAI,EAAE;IAC5BC,KAAK,EAAEX,SAAS,CAACY,QAAQ,IAAI,EAAE;IAC/BC,OAAO,EAAE;MACPC,QAAQ,EAAE,EAAAb,mBAAA,GAAAD,SAAS,CAACc,QAAQ,cAAAb,mBAAA,uBAAlBA,mBAAA,CAAoBc,UAAU,KAAI,EAAE;MAC9CC,MAAM,EAAE,EAAAd,oBAAA,GAAAF,SAAS,CAACc,QAAQ,cAAAZ,oBAAA,uBAAlBA,oBAAA,CAAoBc,MAAM,KAAI,EAAE;MACxCC,MAAM,EAAE,EAAAd,oBAAA,GAAAH,SAAS,CAACc,QAAQ,cAAAX,oBAAA,uBAAlBA,oBAAA,CAAoBc,MAAM,KAAI,EAAE;MACxCC,MAAM,EAAE,EAAAd,oBAAA,GAAAJ,SAAS,CAACc,QAAQ,cAAAV,oBAAA,uBAAlBA,oBAAA,CAAoBc,MAAM,KAAI,EAAE;MACxCC,MAAM,EAAE,EAAAd,oBAAA,GAAAL,SAAS,CAACc,QAAQ,cAAAT,oBAAA,uBAAlBA,oBAAA,CAAoBc,MAAM,KAAI,EAAE;MACxCC,GAAG,EAAE,EAAAd,oBAAA,GAAAN,SAAS,CAACc,QAAQ,cAAAR,oBAAA,uBAAlBA,oBAAA,CAAoBc,GAAG,KAAI;IAClC;EACF,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}