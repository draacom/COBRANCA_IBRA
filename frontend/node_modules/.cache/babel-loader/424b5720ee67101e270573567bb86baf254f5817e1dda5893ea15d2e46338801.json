{"ast":null,"code":"// Função para remover formatação de documento\nexport const removeDocumentFormatting=document=>{if(!document||typeof document!=='string'){return'';}return document.replace(/[^\\d]/g,'');};// Função para validar CPF\nexport const validateCPF=cpf=>{cpf=removeDocumentFormatting(cpf);if(cpf.length!==11)return false;// Elimina CPFs inválidos conhecidos\nif(/^(\\d)\\1{10}$/.test(cpf))return false;// Valida 1º dígito\nlet add=0;for(let i=0;i<9;i++){add+=parseInt(cpf.charAt(i))*(10-i);}let rev=11-add%11;if(rev===10||rev===11)rev=0;if(rev!==parseInt(cpf.charAt(9)))return false;// Valida 2º dígito\nadd=0;for(let i=0;i<10;i++){add+=parseInt(cpf.charAt(i))*(11-i);}rev=11-add%11;if(rev===10||rev===11)rev=0;if(rev!==parseInt(cpf.charAt(10)))return false;return true;};// Função para validar CNPJ\nexport const validateCNPJ=cnpj=>{cnpj=removeDocumentFormatting(cnpj);if(cnpj.length!==14)return false;// Elimina CNPJs inválidos conhecidos\nif(/^(\\d)\\1{13}$/.test(cnpj))return false;// Valida DVs\nlet tamanho=cnpj.length-2;let numeros=cnpj.substring(0,tamanho);let digitos=cnpj.substring(tamanho);let soma=0;let pos=tamanho-7;for(let i=tamanho;i>=1;i--){soma+=numeros.charAt(tamanho-i)*pos--;if(pos<2)pos=9;}let resultado=soma%11<2?0:11-soma%11;if(resultado!=digitos.charAt(0))return false;tamanho=tamanho+1;numeros=cnpj.substring(0,tamanho);soma=0;pos=tamanho-7;for(let i=tamanho;i>=1;i--){soma+=numeros.charAt(tamanho-i)*pos--;if(pos<2)pos=9;}resultado=soma%11<2?0:11-soma%11;if(resultado!=digitos.charAt(1))return false;return true;};// Função para validar CPF ou CNPJ\nexport const validateDocument=document=>{const cleanDocument=removeDocumentFormatting(document);if(cleanDocument.length===11){return validateCPF(cleanDocument);}else if(cleanDocument.length===14){return validateCNPJ(cleanDocument);}return false;};// Função para formatar CPF\nexport const formatCPF=cpf=>{cpf=removeDocumentFormatting(cpf);return cpf.replace(/^(\\d{3})(\\d{3})(\\d{3})(\\d{2})$/,'$1.$2.$3-$4');};// Função para formatar CNPJ\nexport const formatCNPJ=cnpj=>{cnpj=removeDocumentFormatting(cnpj);return cnpj.replace(/^(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})$/,'$1.$2.$3/$4-$5');};// Função para formatar CPF ou CNPJ automaticamente\nexport const formatDocument=document=>{const cleanDocument=removeDocumentFormatting(document);if(cleanDocument.length===11){return formatCPF(cleanDocument);}else if(cleanDocument.length===14){return formatCNPJ(cleanDocument);}return document;};// Função para aplicar máscara durante a digitação\nexport const applyDocumentMask=value=>{const cleanValue=removeDocumentFormatting(value);if(cleanValue.length<=11){// Máscara de CPF\nreturn cleanValue.replace(/(\\d{3})(\\d)/,'$1.$2').replace(/(\\d{3})(\\d)/,'$1.$2').replace(/(\\d{3})(\\d{1,2})/,'$1-$2').replace(/(-\\d{2})\\d+?$/,'$1');}else{// Máscara de CNPJ\nreturn cleanValue.replace(/(\\d{2})(\\d)/,'$1.$2').replace(/(\\d{3})(\\d)/,'$1.$2').replace(/(\\d{3})(\\d)/,'$1/$2').replace(/(\\d{4})(\\d{1,2})/,'$1-$2').replace(/(-\\d{2})\\d+?$/,'$1');}};// Função para determinar se é CPF ou CNPJ\nexport const getDocumentType=document=>{const cleanDocument=removeDocumentFormatting(document);if(cleanDocument.length===11){return'CPF';}else if(cleanDocument.length===14){return'CNPJ';}return'UNKNOWN';};","map":{"version":3,"names":["removeDocumentFormatting","document","replace","validateCPF","cpf","length","test","add","i","parseInt","charAt","rev","validateCNPJ","cnpj","tamanho","numeros","substring","digitos","soma","pos","resultado","validateDocument","cleanDocument","formatCPF","formatCNPJ","formatDocument","applyDocumentMask","value","cleanValue","getDocumentType"],"sources":["D:/OneDrive/Attachments/Área de Trabalho/projetos/COBRANCA_IBRA/frontend/src/utils/documentUtils.js"],"sourcesContent":["// Função para remover formatação de documento\nexport const removeDocumentFormatting = (document) => {\n  if (!document || typeof document !== 'string') {\n    return '';\n  }\n  return document.replace(/[^\\d]/g, '');\n};\n\n// Função para validar CPF\nexport const validateCPF = (cpf) => {\n  cpf = removeDocumentFormatting(cpf);\n  \n  if (cpf.length !== 11) return false;\n  \n  // Elimina CPFs inválidos conhecidos\n  if (/^(\\d)\\1{10}$/.test(cpf)) return false;\n  \n  // Valida 1º dígito\n  let add = 0;\n  for (let i = 0; i < 9; i++) {\n    add += parseInt(cpf.charAt(i)) * (10 - i);\n  }\n  let rev = 11 - (add % 11);\n  if (rev === 10 || rev === 11) rev = 0;\n  if (rev !== parseInt(cpf.charAt(9))) return false;\n  \n  // Valida 2º dígito\n  add = 0;\n  for (let i = 0; i < 10; i++) {\n    add += parseInt(cpf.charAt(i)) * (11 - i);\n  }\n  rev = 11 - (add % 11);\n  if (rev === 10 || rev === 11) rev = 0;\n  if (rev !== parseInt(cpf.charAt(10))) return false;\n  \n  return true;\n};\n\n// Função para validar CNPJ\nexport const validateCNPJ = (cnpj) => {\n  cnpj = removeDocumentFormatting(cnpj);\n  \n  if (cnpj.length !== 14) return false;\n  \n  // Elimina CNPJs inválidos conhecidos\n  if (/^(\\d)\\1{13}$/.test(cnpj)) return false;\n  \n  // Valida DVs\n  let tamanho = cnpj.length - 2;\n  let numeros = cnpj.substring(0, tamanho);\n  let digitos = cnpj.substring(tamanho);\n  let soma = 0;\n  let pos = tamanho - 7;\n  \n  for (let i = tamanho; i >= 1; i--) {\n    soma += numeros.charAt(tamanho - i) * pos--;\n    if (pos < 2) pos = 9;\n  }\n  \n  let resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\n  if (resultado != digitos.charAt(0)) return false;\n  \n  tamanho = tamanho + 1;\n  numeros = cnpj.substring(0, tamanho);\n  soma = 0;\n  pos = tamanho - 7;\n  \n  for (let i = tamanho; i >= 1; i--) {\n    soma += numeros.charAt(tamanho - i) * pos--;\n    if (pos < 2) pos = 9;\n  }\n  \n  resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\n  if (resultado != digitos.charAt(1)) return false;\n  \n  return true;\n};\n\n// Função para validar CPF ou CNPJ\nexport const validateDocument = (document) => {\n  const cleanDocument = removeDocumentFormatting(document);\n  \n  if (cleanDocument.length === 11) {\n    return validateCPF(cleanDocument);\n  } else if (cleanDocument.length === 14) {\n    return validateCNPJ(cleanDocument);\n  }\n  \n  return false;\n};\n\n// Função para formatar CPF\nexport const formatCPF = (cpf) => {\n  cpf = removeDocumentFormatting(cpf);\n  return cpf.replace(/^(\\d{3})(\\d{3})(\\d{3})(\\d{2})$/, '$1.$2.$3-$4');\n};\n\n// Função para formatar CNPJ\nexport const formatCNPJ = (cnpj) => {\n  cnpj = removeDocumentFormatting(cnpj);\n  return cnpj.replace(/^(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})$/, '$1.$2.$3/$4-$5');\n};\n\n// Função para formatar CPF ou CNPJ automaticamente\nexport const formatDocument = (document) => {\n  const cleanDocument = removeDocumentFormatting(document);\n  \n  if (cleanDocument.length === 11) {\n    return formatCPF(cleanDocument);\n  } else if (cleanDocument.length === 14) {\n    return formatCNPJ(cleanDocument);\n  }\n  \n  return document;\n};\n\n// Função para aplicar máscara durante a digitação\nexport const applyDocumentMask = (value) => {\n  const cleanValue = removeDocumentFormatting(value);\n  \n  if (cleanValue.length <= 11) {\n    // Máscara de CPF\n    return cleanValue\n      .replace(/(\\d{3})(\\d)/, '$1.$2')\n      .replace(/(\\d{3})(\\d)/, '$1.$2')\n      .replace(/(\\d{3})(\\d{1,2})/, '$1-$2')\n      .replace(/(-\\d{2})\\d+?$/, '$1');\n  } else {\n    // Máscara de CNPJ\n    return cleanValue\n      .replace(/(\\d{2})(\\d)/, '$1.$2')\n      .replace(/(\\d{3})(\\d)/, '$1.$2')\n      .replace(/(\\d{3})(\\d)/, '$1/$2')\n      .replace(/(\\d{4})(\\d{1,2})/, '$1-$2')\n      .replace(/(-\\d{2})\\d+?$/, '$1');\n  }\n};\n\n// Função para determinar se é CPF ou CNPJ\nexport const getDocumentType = (document) => {\n  const cleanDocument = removeDocumentFormatting(document);\n  \n  if (cleanDocument.length === 11) {\n    return 'CPF';\n  } else if (cleanDocument.length === 14) {\n    return 'CNPJ';\n  }\n  \n  return 'UNKNOWN';\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}