{"ast":null,"code":"var _jsxFileName = \"D:\\\\OneDrive\\\\Attachments\\\\\\xC1rea de Trabalho\\\\projetos\\\\COBRANCA_IBRA\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport useIsMobile from '../utils/useIsMobile';\nimport { Link } from 'react-router-dom';\nimport api from '../services/api';\nimport WhatsAppStatus from '../components/WhatsAppStatus';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [stats, setStats] = useState({\n    clientCount: 0,\n    activeSubscriptions: 0,\n    pendingInvoices: 0,\n    overdueInvoices: 0,\n    paidInvoices: 0,\n    revenueMonth: 0,\n    totalInvoices: 0,\n    unpaidInvoices: 0,\n    totalInvoicesAmount: 0,\n    unpaidInvoicesAmount: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [lists, setLists] = useState({\n    pending: [],\n    overdue: []\n  });\n  const [hoverCard, setHoverCard] = useState(null); // desktop hover\n  const [openCard, setOpenCard] = useState(null); // mobile click toggle\n  const [rawInvoices, setRawInvoices] = useState([]);\n\n  // Utilitários de data\n  const toYMD = d => {\n    const date = new Date(d);\n    const y = date.getFullYear();\n    const m = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${y}-${m}-${day}`;\n  };\n  const getMonthStartEnd = (base = new Date()) => {\n    const start = new Date(base.getFullYear(), base.getMonth(), 1);\n    const end = new Date(base.getFullYear(), base.getMonth() + 1, 0);\n    return {\n      startYMD: toYMD(start),\n      endYMD: toYMD(end)\n    };\n  };\n  const {\n    startYMD: defaultStart,\n    endYMD: defaultEnd\n  } = getMonthStartEnd(new Date());\n  const [startDate, setStartDate] = useState(defaultStart);\n  const [endDate, setEndDate] = useState(defaultEnd);\n  const isMobile = useIsMobile();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        var _clientsRes$data, _subscriptionsRes$dat, _invoicesRes$data, _revenueRes$data, _revenueRes$data$data;\n        // Buscar dados reais do backend considerando intervalo\n        const [clientsRes, subscriptionsRes, invoicesRes, revenueRes] = await Promise.all([api.get('/clients'), api.get('/subscriptions'), api.get('/invoices', {\n          params: {\n            startDate,\n            endDate\n          }\n        }), api.get('/reports/revenue', {\n          params: {\n            startDate,\n            endDate\n          }\n        })]);\n        const clients = (clientsRes === null || clientsRes === void 0 ? void 0 : (_clientsRes$data = clientsRes.data) === null || _clientsRes$data === void 0 ? void 0 : _clientsRes$data.data) || [];\n        const subscriptions = (subscriptionsRes === null || subscriptionsRes === void 0 ? void 0 : (_subscriptionsRes$dat = subscriptionsRes.data) === null || _subscriptionsRes$dat === void 0 ? void 0 : _subscriptionsRes$dat.data) || [];\n        const invoices = (invoicesRes === null || invoicesRes === void 0 ? void 0 : (_invoicesRes$data = invoicesRes.data) === null || _invoicesRes$data === void 0 ? void 0 : _invoicesRes$data.data) || [];\n        const revenue = (revenueRes === null || revenueRes === void 0 ? void 0 : (_revenueRes$data = revenueRes.data) === null || _revenueRes$data === void 0 ? void 0 : (_revenueRes$data$data = _revenueRes$data.data) === null || _revenueRes$data$data === void 0 ? void 0 : _revenueRes$data$data.total) || 0;\n\n        // Guardar invoices crus para aplicar filtro adicional, se necessário\n        setRawInvoices(Array.isArray(invoices) ? invoices : []);\n        const clientCount = Array.isArray(clients) ? clients.length : 0;\n        const activeSubscriptions = Array.isArray(subscriptions) ? subscriptions.filter(s => s.active === true || s.status === 'ativo').length : 0;\n        // Atualizar contadores gerais não dependentes de período e receita do backend\n        setStats(prev => ({\n          ...prev,\n          clientCount,\n          activeSubscriptions,\n          revenueMonth: Number(revenue) || 0\n        }));\n      } catch (error) {\n        console.error('Erro ao carregar dados do dashboard', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [startDate, endDate]);\n\n  // Recalcular estatísticas com base no intervalo selecionado\n  useEffect(() => {\n    // Utilitários de data para considerar vencidas por due_date < hoje\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const parseDateOnly = d => {\n      if (typeof d === 'string' && /^\\d{4}-\\d{2}-\\d{2}$/.test(d)) {\n        const [y, m, day] = d.split('-').map(Number);\n        return new Date(y, m - 1, day);\n      }\n      const dt = new Date(d);\n      return isNaN(dt.getTime()) ? today : dt;\n    };\n    const inRange = inv => {\n      const dd = parseDateOnly(inv.due_date);\n      const ddStr = toYMD(dd);\n      return ddStr >= startDate && ddStr <= endDate;\n    };\n    const invoicesInRange = Array.isArray(rawInvoices) ? rawInvoices.filter(inRange) : [];\n    const isOverdue = inv => {\n      const dd = parseDateOnly(inv.due_date);\n      return dd < today && inv.status !== 'paid' && inv.status !== 'canceled';\n    };\n    const isPendingActive = inv => {\n      const dd = parseDateOnly(inv.due_date);\n      return inv.status === 'pending' && dd >= today;\n    };\n    const pendingOnly = invoicesInRange.filter(isPendingActive);\n    const overdueOnly = invoicesInRange.filter(isOverdue);\n    const paidInvoices = invoicesInRange.filter(i => i.status === 'paid').length;\n    const totalInvoices = invoicesInRange.length;\n    const unpaidInvoices = invoicesInRange.filter(i => i.status !== 'paid').length;\n    const totalInvoicesAmount = invoicesInRange.reduce((sum, i) => sum + (Number(i.amount) || 0), 0);\n    const unpaidInvoicesAmount = invoicesInRange.reduce((sum, i) => sum + (i.status !== 'paid' ? Number(i.amount) || 0 : 0), 0);\n    const revenueFromRange = rawInvoices.reduce((sum, i) => {\n      if (i.status === 'paid' && i.paid_date) {\n        const pd = parseDateOnly(i.paid_date);\n        const pdStr = toYMD(pd);\n        if (pdStr >= startDate && pdStr <= endDate) {\n          return sum + (Number(i.amount) || 0);\n        }\n      }\n      return sum;\n    }, 0);\n    setStats(prev => ({\n      ...prev,\n      pendingInvoices: pendingOnly.length,\n      overdueInvoices: overdueOnly.length,\n      paidInvoices,\n      revenueMonth: Number(revenueFromRange) || prev.revenueMonth,\n      totalInvoices,\n      unpaidInvoices,\n      totalInvoicesAmount,\n      unpaidInvoicesAmount\n    }));\n    setLists({\n      pending: pendingOnly,\n      overdue: overdueOnly\n    });\n  }, [startDate, endDate, rawInvoices]);\n  const formatCurrency = value => {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(Number(value) || 0);\n  };\n  const formatDate = dateString => {\n    if (!dateString) return '-';\n    const date = new Date(dateString);\n    return new Intl.DateTimeFormat('pt-BR').format(date);\n  };\n  const renderListPopover = type => {\n    const items = type === 'pending' ? lists.pending : lists.overdue;\n    if (!items || items.length === 0) return null;\n    const show = isMobile ? openCard === type : hoverCard === type || openCard === type;\n    if (!show) return null;\n    const topItems = items.slice(0, 10);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `absolute z-20 mt-2 ${isMobile ? 'w-full left-0' : 'w-80'} bg-white border border-gray-200 rounded-md shadow-lg p-3`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm font-medium text-gray-700 mb-2\",\n        children: [type === 'pending' ? 'Cobranças pendentes' : 'Cobranças vencidas', \" (\", items.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"max-h-64 overflow-auto divide-y divide-gray-100\",\n        children: topItems.map(inv => {\n          var _inv$client, _inv$client2;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"py-2 text-sm text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-2 truncate\",\n                children: ((_inv$client = inv.client) === null || _inv$client === void 0 ? void 0 : _inv$client.name) || ((_inv$client2 = inv.client) === null || _inv$client2 === void 0 ? void 0 : _inv$client2.email) || 'Cliente'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: formatCurrency(inv.amount)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500\",\n              children: [\"Vencimento: \", formatDate(inv.due_date)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)]\n          }, inv.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), items.length > topItems.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 text-xs text-gray-500\",\n        children: [\"+\", items.length - topItems.length, \" mais\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-semibold text-gray-900\",\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 bg-white shadow rounded-lg p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row sm:items-end sm:space-x-4 space-y-3 sm:space-y-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"In\\xEDcio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n            value: startDate,\n            onChange: e => setStartDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Fim\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n            value: endDate,\n            onChange: e => setEndDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n            onClick: () => {\n              const {\n                startYMD,\n                endYMD\n              } = getMonthStartEnd(new Date());\n              setStartDate(startYMD);\n              setEndDate(endYMD);\n            },\n            children: \"M\\xEAs atual\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(WhatsAppStatus, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 text-center\",\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 bg-blue-500 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-white\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"Total de Clientes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: stats.clientCount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 bg-green-500 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-white\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"Assinaturas Ativas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: stats.activeSubscriptions\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-white overflow-visible shadow rounded-lg\",\n        onMouseEnter: isMobile ? undefined : () => setHoverCard('pending'),\n        onMouseLeave: isMobile ? undefined : () => setHoverCard(prev => prev === 'pending' ? null : prev),\n        onClick: () => setOpenCard(prev => prev === 'pending' ? null : 'pending'),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 bg-yellow-500 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-white\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"Cobran\\xE7as Pendentes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: stats.pendingInvoices\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this), renderListPopover('pending')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-white overflow-visible shadow rounded-lg\",\n        onMouseEnter: isMobile ? undefined : () => setHoverCard('overdue'),\n        onMouseLeave: isMobile ? undefined : () => setHoverCard(prev => prev === 'overdue' ? null : prev),\n        onClick: () => setOpenCard(prev => prev === 'overdue' ? null : 'overdue'),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 bg-red-500 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-white\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"Cobran\\xE7as Vencidas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: stats.overdueInvoices\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this), renderListPopover('overdue')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 bg-indigo-500 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-white\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"Cobran\\xE7as Pagas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: stats.paidInvoices\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 bg-purple-500 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-white\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M3 7h18M3 12h18M3 17h18\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"Total de Cobran\\xE7as\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: formatCurrency(stats.totalInvoicesAmount)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 bg-gray-500 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-white\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"Cobran\\xE7as N\\xE3o Pagas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: formatCurrency(stats.unpaidInvoicesAmount)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 bg-red-500 rounded-md p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-white\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"text-sm font-medium text-gray-500 truncate\",\n                  children: \"Cobran\\xE7as Pagas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: new Intl.NumberFormat('pt-BR', {\n                      style: 'currency',\n                      currency: 'BRL'\n                    }).format(stats.revenueMonth)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"AclLqelX1w36jrNWjImfQ1CkU1A=\", false, function () {\n  return [useIsMobile];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useIsMobile","Link","api","WhatsAppStatus","jsxDEV","_jsxDEV","Dashboard","_s","stats","setStats","clientCount","activeSubscriptions","pendingInvoices","overdueInvoices","paidInvoices","revenueMonth","totalInvoices","unpaidInvoices","totalInvoicesAmount","unpaidInvoicesAmount","loading","setLoading","lists","setLists","pending","overdue","hoverCard","setHoverCard","openCard","setOpenCard","rawInvoices","setRawInvoices","toYMD","d","date","Date","y","getFullYear","m","String","getMonth","padStart","day","getDate","getMonthStartEnd","base","start","end","startYMD","endYMD","defaultStart","defaultEnd","startDate","setStartDate","endDate","setEndDate","isMobile","fetchData","_clientsRes$data","_subscriptionsRes$dat","_invoicesRes$data","_revenueRes$data","_revenueRes$data$data","clientsRes","subscriptionsRes","invoicesRes","revenueRes","Promise","all","get","params","clients","data","subscriptions","invoices","revenue","total","Array","isArray","length","filter","s","active","status","prev","Number","error","console","today","setHours","parseDateOnly","test","split","map","dt","isNaN","getTime","inRange","inv","dd","due_date","ddStr","invoicesInRange","isOverdue","isPendingActive","pendingOnly","overdueOnly","i","reduce","sum","amount","revenueFromRange","paid_date","pd","pdStr","formatCurrency","value","Intl","NumberFormat","style","currency","format","formatDate","dateString","DateTimeFormat","renderListPopover","type","items","show","topItems","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_inv$client","_inv$client2","client","name","email","id","onChange","e","target","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","onMouseEnter","undefined","onMouseLeave","_c","$RefreshReg$"],"sources":["D:/OneDrive/Attachments/Área de Trabalho/projetos/COBRANCA_IBRA/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport useIsMobile from '../utils/useIsMobile';\nimport { Link } from 'react-router-dom';\nimport api from '../services/api';\nimport WhatsAppStatus from '../components/WhatsAppStatus';\n\nconst Dashboard = () => {\n  const [stats, setStats] = useState({\n    clientCount: 0,\n    activeSubscriptions: 0,\n    pendingInvoices: 0,\n    overdueInvoices: 0,\n    paidInvoices: 0,\n    revenueMonth: 0,\n    totalInvoices: 0,\n    unpaidInvoices: 0,\n    totalInvoicesAmount: 0,\n    unpaidInvoicesAmount: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [lists, setLists] = useState({ pending: [], overdue: [] });\n  const [hoverCard, setHoverCard] = useState(null); // desktop hover\n  const [openCard, setOpenCard] = useState(null); // mobile click toggle\n  const [rawInvoices, setRawInvoices] = useState([]);\n\n  // Utilitários de data\n  const toYMD = (d) => {\n    const date = new Date(d);\n    const y = date.getFullYear();\n    const m = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${y}-${m}-${day}`;\n  };\n  const getMonthStartEnd = (base = new Date()) => {\n    const start = new Date(base.getFullYear(), base.getMonth(), 1);\n    const end = new Date(base.getFullYear(), base.getMonth() + 1, 0);\n    return { startYMD: toYMD(start), endYMD: toYMD(end) };\n  };\n  const { startYMD: defaultStart, endYMD: defaultEnd } = getMonthStartEnd(new Date());\n  const [startDate, setStartDate] = useState(defaultStart);\n  const [endDate, setEndDate] = useState(defaultEnd);\n  const isMobile = useIsMobile();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Buscar dados reais do backend considerando intervalo\n        const [clientsRes, subscriptionsRes, invoicesRes, revenueRes] = await Promise.all([\n          api.get('/clients'),\n          api.get('/subscriptions'),\n          api.get('/invoices', { params: { startDate, endDate } }),\n          api.get('/reports/revenue', { params: { startDate, endDate } })\n        ]);\n\n        const clients = clientsRes?.data?.data || [];\n        const subscriptions = subscriptionsRes?.data?.data || [];\n        const invoices = invoicesRes?.data?.data || [];\n        const revenue = revenueRes?.data?.data?.total || 0;\n\n        // Guardar invoices crus para aplicar filtro adicional, se necessário\n        setRawInvoices(Array.isArray(invoices) ? invoices : []);\n\n        const clientCount = Array.isArray(clients) ? clients.length : 0;\n        const activeSubscriptions = Array.isArray(subscriptions)\n          ? subscriptions.filter((s) => s.active === true || s.status === 'ativo').length\n          : 0;\n        // Atualizar contadores gerais não dependentes de período e receita do backend\n        setStats((prev) => ({\n          ...prev,\n          clientCount,\n          activeSubscriptions,\n          revenueMonth: Number(revenue) || 0\n        }));\n      } catch (error) {\n        console.error('Erro ao carregar dados do dashboard', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [startDate, endDate]);\n\n  // Recalcular estatísticas com base no intervalo selecionado\n  useEffect(() => {\n    // Utilitários de data para considerar vencidas por due_date < hoje\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const parseDateOnly = (d) => {\n      if (typeof d === 'string' && /^\\d{4}-\\d{2}-\\d{2}$/.test(d)) {\n        const [y, m, day] = d.split('-').map(Number);\n        return new Date(y, m - 1, day);\n      }\n      const dt = new Date(d);\n      return isNaN(dt.getTime()) ? today : dt;\n    };\n    const inRange = (inv) => {\n      const dd = parseDateOnly(inv.due_date);\n      const ddStr = toYMD(dd);\n      return ddStr >= startDate && ddStr <= endDate;\n    };\n    const invoicesInRange = Array.isArray(rawInvoices) ? rawInvoices.filter(inRange) : [];\n    const isOverdue = (inv) => {\n      const dd = parseDateOnly(inv.due_date);\n      return dd < today && inv.status !== 'paid' && inv.status !== 'canceled';\n    };\n    const isPendingActive = (inv) => {\n      const dd = parseDateOnly(inv.due_date);\n      return inv.status === 'pending' && dd >= today;\n    };\n    const pendingOnly = invoicesInRange.filter(isPendingActive);\n    const overdueOnly = invoicesInRange.filter(isOverdue);\n    const paidInvoices = invoicesInRange.filter((i) => i.status === 'paid').length;\n    const totalInvoices = invoicesInRange.length;\n    const unpaidInvoices = invoicesInRange.filter((i) => i.status !== 'paid').length;\n    const totalInvoicesAmount = invoicesInRange.reduce((sum, i) => sum + (Number(i.amount) || 0), 0);\n    const unpaidInvoicesAmount = invoicesInRange.reduce((sum, i) => sum + (i.status !== 'paid' ? (Number(i.amount) || 0) : 0), 0);\n    const revenueFromRange = rawInvoices.reduce((sum, i) => {\n      if (i.status === 'paid' && i.paid_date) {\n        const pd = parseDateOnly(i.paid_date);\n        const pdStr = toYMD(pd);\n        if (pdStr >= startDate && pdStr <= endDate) {\n          return sum + (Number(i.amount) || 0);\n        }\n      }\n      return sum;\n    }, 0);\n\n    setStats((prev) => ({\n      ...prev,\n      pendingInvoices: pendingOnly.length,\n      overdueInvoices: overdueOnly.length,\n      paidInvoices,\n      revenueMonth: Number(revenueFromRange) || prev.revenueMonth,\n      totalInvoices,\n      unpaidInvoices,\n      totalInvoicesAmount,\n      unpaidInvoicesAmount\n    }));\n    setLists({ pending: pendingOnly, overdue: overdueOnly });\n  }, [startDate, endDate, rawInvoices]);\n\n  const formatCurrency = (value) => {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(Number(value) || 0);\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return '-';\n    const date = new Date(dateString);\n    return new Intl.DateTimeFormat('pt-BR').format(date);\n  };\n\n  const renderListPopover = (type) => {\n    const items = type === 'pending' ? lists.pending : lists.overdue;\n    if (!items || items.length === 0) return null;\n    const show = (isMobile ? openCard === type : hoverCard === type || openCard === type);\n    if (!show) return null;\n    const topItems = items.slice(0, 10);\n    return (\n      <div className={`absolute z-20 mt-2 ${isMobile ? 'w-full left-0' : 'w-80'} bg-white border border-gray-200 rounded-md shadow-lg p-3`}>\n        <div className=\"text-sm font-medium text-gray-700 mb-2\">\n          {type === 'pending' ? 'Cobranças pendentes' : 'Cobranças vencidas'} ({items.length})\n        </div>\n        <ul className=\"max-h-64 overflow-auto divide-y divide-gray-100\">\n          {topItems.map((inv) => (\n            <li key={inv.id} className=\"py-2 text-sm text-gray-700\">\n              <div className=\"flex justify-between\">\n                <span className=\"mr-2 truncate\">{inv.client?.name || inv.client?.email || 'Cliente'}</span>\n                <span className=\"font-medium\">{formatCurrency(inv.amount)}</span>\n              </div>\n              <div className=\"text-xs text-gray-500\">Vencimento: {formatDate(inv.due_date)}</div>\n            </li>\n          ))}\n        </ul>\n        {items.length > topItems.length && (\n          <div className=\"mt-2 text-xs text-gray-500\">+{items.length - topItems.length} mais</div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <h1 className=\"text-2xl font-semibold text-gray-900\">Dashboard</h1>\n      {/* Filtro de Data */}\n      <div className=\"mt-4 bg-white shadow rounded-lg p-4\">\n        <div className=\"flex flex-col sm:flex-row sm:items-end sm:space-x-4 space-y-3 sm:space-y-0\">\n          <div className=\"flex-1\">\n            <label className=\"block text-sm font-medium text-gray-700\">Início</label>\n            <input\n              type=\"date\"\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n              value={startDate}\n              onChange={(e) => setStartDate(e.target.value)}\n            />\n          </div>\n          <div className=\"flex-1\">\n            <label className=\"block text-sm font-medium text-gray-700\">Fim</label>\n            <input\n              type=\"date\"\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n            />\n          </div>\n          <div className=\"flex-shrink-0\">\n            <button\n              type=\"button\"\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              onClick={() => {\n                const { startYMD, endYMD } = getMonthStartEnd(new Date());\n                setStartDate(startYMD);\n                setEndDate(endYMD);\n              }}\n            >\n              Mês atual\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <WhatsAppStatus />\n      \n      {loading ? (\n        <div className=\"mt-6 text-center\">Carregando...</div>\n      ) : (\n        <div className=\"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3\">\n          {/* Card - Total de Clientes */}\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-blue-500 rounded-md p-3\">\n                  <svg className=\"h-6 w-6 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                      Total de Clientes\n                    </dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">\n                        {stats.clientCount}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Card - Assinaturas Ativas */}\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-green-500 rounded-md p-3\">\n                  <svg className=\"h-6 w-6 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                      Assinaturas Ativas\n                    </dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">\n                        {stats.activeSubscriptions}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Card - Cobranças Pendentes */}\n          <div\n            className=\"relative bg-white overflow-visible shadow rounded-lg\"\n            onMouseEnter={isMobile ? undefined : () => setHoverCard('pending')}\n            onMouseLeave={isMobile ? undefined : () => setHoverCard((prev) => (prev === 'pending' ? null : prev))}\n            onClick={() => setOpenCard((prev) => (prev === 'pending' ? null : 'pending'))}\n          >\n            <div className=\"px-4 py-5 sm:p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-yellow-500 rounded-md p-3\">\n                  <svg className=\"h-6 w-6 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                      Cobranças Pendentes\n                    </dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">\n                        {stats.pendingInvoices}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n            {renderListPopover('pending')}\n          </div>\n\n          {/* Card - Cobranças Vencidas */}\n          <div\n            className=\"relative bg-white overflow-visible shadow rounded-lg\"\n            onMouseEnter={isMobile ? undefined : () => setHoverCard('overdue')}\n            onMouseLeave={isMobile ? undefined : () => setHoverCard((prev) => (prev === 'overdue' ? null : prev))}\n            onClick={() => setOpenCard((prev) => (prev === 'overdue' ? null : 'overdue'))}\n          >\n            <div className=\"px-4 py-5 sm:p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-red-500 rounded-md p-3\">\n                  <svg className=\"h-6 w-6 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                      Cobranças Vencidas\n                    </dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">\n                        {stats.overdueInvoices}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n            {renderListPopover('overdue')}\n          </div>\n\n          {/* Card - Cobranças Pagas */}\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-indigo-500 rounded-md p-3\">\n                  <svg className=\"h-6 w-6 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                      Cobranças Pagas\n                    </dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">\n                        {stats.paidInvoices}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Card - Total de Cobranças (Valor) */}\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-purple-500 rounded-md p-3\">\n                  <svg className=\"h-6 w-6 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 7h18M3 12h18M3 17h18\" />\n                  </svg>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                      Total de Cobranças\n                    </dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">\n                        {formatCurrency(stats.totalInvoicesAmount)}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Card - Cobranças Não Pagas (Valor) */}\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-gray-500 rounded-md p-3\">\n                  <svg className=\"h-6 w-6 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                      Cobranças Não Pagas\n                    </dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">\n                        {formatCurrency(stats.unpaidInvoicesAmount)}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Card - Cobranças Pagas (Valor) */}\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-red-500 rounded-md p-3\">\n                  <svg className=\"h-6 w-6 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                      Cobranças Pagas\n                    </dt>\n                    <dd>\n                      <div className=\"text-lg font-medium text-gray-900\">\n                        {new Intl.NumberFormat('pt-BR', {\n                          style: 'currency',\n                          currency: 'BRL'\n                        }).format(stats.revenueMonth)}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}