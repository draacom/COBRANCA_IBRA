{"ast":null,"code":"// Função para remover formatação de documento\nexport const removeDocumentFormatting = document => {\n  if (!document || typeof document !== 'string') {\n    return '';\n  }\n  return document.replace(/[^\\d]/g, '');\n};\n\n// Função para validar CPF\nexport const validateCPF = cpf => {\n  cpf = removeDocumentFormatting(cpf);\n  if (cpf.length !== 11) return false;\n\n  // Elimina CPFs inválidos conhecidos\n  if (/^(\\d)\\1{10}$/.test(cpf)) return false;\n\n  // Valida 1º dígito\n  let add = 0;\n  for (let i = 0; i < 9; i++) {\n    add += parseInt(cpf.charAt(i)) * (10 - i);\n  }\n  let rev = 11 - add % 11;\n  if (rev === 10 || rev === 11) rev = 0;\n  if (rev !== parseInt(cpf.charAt(9))) return false;\n\n  // Valida 2º dígito\n  add = 0;\n  for (let i = 0; i < 10; i++) {\n    add += parseInt(cpf.charAt(i)) * (11 - i);\n  }\n  rev = 11 - add % 11;\n  if (rev === 10 || rev === 11) rev = 0;\n  if (rev !== parseInt(cpf.charAt(10))) return false;\n  return true;\n};\n\n// Função para validar CNPJ\nexport const validateCNPJ = cnpj => {\n  cnpj = removeDocumentFormatting(cnpj);\n  if (cnpj.length !== 14) return false;\n\n  // Elimina CNPJs inválidos conhecidos\n  if (/^(\\d)\\1{13}$/.test(cnpj)) return false;\n\n  // Valida DVs\n  let tamanho = cnpj.length - 2;\n  let numeros = cnpj.substring(0, tamanho);\n  let digitos = cnpj.substring(tamanho);\n  let soma = 0;\n  let pos = tamanho - 7;\n  for (let i = tamanho; i >= 1; i--) {\n    soma += numeros.charAt(tamanho - i) * pos--;\n    if (pos < 2) pos = 9;\n  }\n  let resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\n  if (resultado != digitos.charAt(0)) return false;\n  tamanho = tamanho + 1;\n  numeros = cnpj.substring(0, tamanho);\n  soma = 0;\n  pos = tamanho - 7;\n  for (let i = tamanho; i >= 1; i--) {\n    soma += numeros.charAt(tamanho - i) * pos--;\n    if (pos < 2) pos = 9;\n  }\n  resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\n  if (resultado != digitos.charAt(1)) return false;\n  return true;\n};\n\n// Função para validar CPF ou CNPJ\nexport const validateDocument = document => {\n  const cleanDocument = removeDocumentFormatting(document);\n  if (cleanDocument.length === 11) {\n    return validateCPF(cleanDocument);\n  } else if (cleanDocument.length === 14) {\n    return validateCNPJ(cleanDocument);\n  }\n  return false;\n};\n\n// Função para formatar CPF\nexport const formatCPF = cpf => {\n  cpf = removeDocumentFormatting(cpf);\n  return cpf.replace(/^(\\d{3})(\\d{3})(\\d{3})(\\d{2})$/, '$1.$2.$3-$4');\n};\n\n// Função para formatar CNPJ\nexport const formatCNPJ = cnpj => {\n  cnpj = removeDocumentFormatting(cnpj);\n  return cnpj.replace(/^(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})$/, '$1.$2.$3/$4-$5');\n};\n\n// Função para formatar CPF ou CNPJ automaticamente\nexport const formatDocument = document => {\n  const cleanDocument = removeDocumentFormatting(document);\n  if (cleanDocument.length === 11) {\n    return formatCPF(cleanDocument);\n  } else if (cleanDocument.length === 14) {\n    return formatCNPJ(cleanDocument);\n  }\n  return document;\n};\n\n// Função para aplicar máscara durante a digitação\nexport const applyDocumentMask = value => {\n  const cleanValue = removeDocumentFormatting(value);\n  if (cleanValue.length <= 11) {\n    // Máscara de CPF\n    return cleanValue.replace(/(\\d{3})(\\d)/, '$1.$2').replace(/(\\d{3})(\\d)/, '$1.$2').replace(/(\\d{3})(\\d{1,2})/, '$1-$2').replace(/(-\\d{2})\\d+?$/, '$1');\n  } else {\n    // Máscara de CNPJ\n    return cleanValue.replace(/(\\d{2})(\\d)/, '$1.$2').replace(/(\\d{3})(\\d)/, '$1.$2').replace(/(\\d{3})(\\d)/, '$1/$2').replace(/(\\d{4})(\\d{1,2})/, '$1-$2').replace(/(-\\d{2})\\d+?$/, '$1');\n  }\n};\n\n// Função para determinar se é CPF ou CNPJ\nexport const getDocumentType = document => {\n  const cleanDocument = removeDocumentFormatting(document);\n  if (cleanDocument.length === 11) {\n    return 'CPF';\n  } else if (cleanDocument.length === 14) {\n    return 'CNPJ';\n  }\n  return 'UNKNOWN';\n};","map":{"version":3,"names":["removeDocumentFormatting","document","replace","validateCPF","cpf","length","test","add","i","parseInt","charAt","rev","validateCNPJ","cnpj","tamanho","numeros","substring","digitos","soma","pos","resultado","validateDocument","cleanDocument","formatCPF","formatCNPJ","formatDocument","applyDocumentMask","value","cleanValue","getDocumentType"],"sources":["D:/OneDrive/Attachments/Área de Trabalho/projetos/COBRANCA_IBRA/frontend/src/utils/documentUtils.js"],"sourcesContent":["// Função para remover formatação de documento\nexport const removeDocumentFormatting = (document) => {\n  if (!document || typeof document !== 'string') {\n    return '';\n  }\n  return document.replace(/[^\\d]/g, '');\n};\n\n// Função para validar CPF\nexport const validateCPF = (cpf) => {\n  cpf = removeDocumentFormatting(cpf);\n  \n  if (cpf.length !== 11) return false;\n  \n  // Elimina CPFs inválidos conhecidos\n  if (/^(\\d)\\1{10}$/.test(cpf)) return false;\n  \n  // Valida 1º dígito\n  let add = 0;\n  for (let i = 0; i < 9; i++) {\n    add += parseInt(cpf.charAt(i)) * (10 - i);\n  }\n  let rev = 11 - (add % 11);\n  if (rev === 10 || rev === 11) rev = 0;\n  if (rev !== parseInt(cpf.charAt(9))) return false;\n  \n  // Valida 2º dígito\n  add = 0;\n  for (let i = 0; i < 10; i++) {\n    add += parseInt(cpf.charAt(i)) * (11 - i);\n  }\n  rev = 11 - (add % 11);\n  if (rev === 10 || rev === 11) rev = 0;\n  if (rev !== parseInt(cpf.charAt(10))) return false;\n  \n  return true;\n};\n\n// Função para validar CNPJ\nexport const validateCNPJ = (cnpj) => {\n  cnpj = removeDocumentFormatting(cnpj);\n  \n  if (cnpj.length !== 14) return false;\n  \n  // Elimina CNPJs inválidos conhecidos\n  if (/^(\\d)\\1{13}$/.test(cnpj)) return false;\n  \n  // Valida DVs\n  let tamanho = cnpj.length - 2;\n  let numeros = cnpj.substring(0, tamanho);\n  let digitos = cnpj.substring(tamanho);\n  let soma = 0;\n  let pos = tamanho - 7;\n  \n  for (let i = tamanho; i >= 1; i--) {\n    soma += numeros.charAt(tamanho - i) * pos--;\n    if (pos < 2) pos = 9;\n  }\n  \n  let resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\n  if (resultado != digitos.charAt(0)) return false;\n  \n  tamanho = tamanho + 1;\n  numeros = cnpj.substring(0, tamanho);\n  soma = 0;\n  pos = tamanho - 7;\n  \n  for (let i = tamanho; i >= 1; i--) {\n    soma += numeros.charAt(tamanho - i) * pos--;\n    if (pos < 2) pos = 9;\n  }\n  \n  resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;\n  if (resultado != digitos.charAt(1)) return false;\n  \n  return true;\n};\n\n// Função para validar CPF ou CNPJ\nexport const validateDocument = (document) => {\n  const cleanDocument = removeDocumentFormatting(document);\n  \n  if (cleanDocument.length === 11) {\n    return validateCPF(cleanDocument);\n  } else if (cleanDocument.length === 14) {\n    return validateCNPJ(cleanDocument);\n  }\n  \n  return false;\n};\n\n// Função para formatar CPF\nexport const formatCPF = (cpf) => {\n  cpf = removeDocumentFormatting(cpf);\n  return cpf.replace(/^(\\d{3})(\\d{3})(\\d{3})(\\d{2})$/, '$1.$2.$3-$4');\n};\n\n// Função para formatar CNPJ\nexport const formatCNPJ = (cnpj) => {\n  cnpj = removeDocumentFormatting(cnpj);\n  return cnpj.replace(/^(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})$/, '$1.$2.$3/$4-$5');\n};\n\n// Função para formatar CPF ou CNPJ automaticamente\nexport const formatDocument = (document) => {\n  const cleanDocument = removeDocumentFormatting(document);\n  \n  if (cleanDocument.length === 11) {\n    return formatCPF(cleanDocument);\n  } else if (cleanDocument.length === 14) {\n    return formatCNPJ(cleanDocument);\n  }\n  \n  return document;\n};\n\n// Função para aplicar máscara durante a digitação\nexport const applyDocumentMask = (value) => {\n  const cleanValue = removeDocumentFormatting(value);\n  \n  if (cleanValue.length <= 11) {\n    // Máscara de CPF\n    return cleanValue\n      .replace(/(\\d{3})(\\d)/, '$1.$2')\n      .replace(/(\\d{3})(\\d)/, '$1.$2')\n      .replace(/(\\d{3})(\\d{1,2})/, '$1-$2')\n      .replace(/(-\\d{2})\\d+?$/, '$1');\n  } else {\n    // Máscara de CNPJ\n    return cleanValue\n      .replace(/(\\d{2})(\\d)/, '$1.$2')\n      .replace(/(\\d{3})(\\d)/, '$1.$2')\n      .replace(/(\\d{3})(\\d)/, '$1/$2')\n      .replace(/(\\d{4})(\\d{1,2})/, '$1-$2')\n      .replace(/(-\\d{2})\\d+?$/, '$1');\n  }\n};\n\n// Função para determinar se é CPF ou CNPJ\nexport const getDocumentType = (document) => {\n  const cleanDocument = removeDocumentFormatting(document);\n  \n  if (cleanDocument.length === 11) {\n    return 'CPF';\n  } else if (cleanDocument.length === 14) {\n    return 'CNPJ';\n  }\n  \n  return 'UNKNOWN';\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}