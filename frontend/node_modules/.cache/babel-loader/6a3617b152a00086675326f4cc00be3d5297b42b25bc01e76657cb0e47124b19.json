{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../services/api';import SuccessModal from'../components/SuccessModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WhatsAppBulk=()=>{var _whatsappStatus$info;const[clients,setClients]=useState([]);const[selectedClients,setSelectedClients]=useState([]);const[message,setMessage]=useState('');const[loading,setLoading]=useState(true);const[sending,setSending]=useState(false);const[results,setResults]=useState(null);const[error,setError]=useState('');const[successOpen,setSuccessOpen]=useState(false);const[successMessage,setSuccessMessage]=useState('');const[whatsappStatus,setWhatsappStatus]=useState(null);const[mediaFile,setMediaFile]=useState(null);const[mediaPreview,setMediaPreview]=useState(null);// Vari√°veis dispon√≠veis para substitui√ß√£o\nconst availableVariables=[{key:'{nome}',description:'Nome do cliente'},{key:'{email}',description:'Email do cliente'},{key:'{telefone}',description:'Telefone do cliente'},{key:'{documento}',description:'CPF/CNPJ do cliente'},{key:'{endereco}',description:'Endere√ßo do cliente'},{key:'{numero}',description:'N√∫mero do endere√ßo'},{key:'{bairro}',description:'Bairro do cliente'},{key:'{cidade}',description:'Cidade do cliente'},{key:'{estado}',description:'Estado do cliente'},{key:'{cep}',description:'CEP do cliente'}];useEffect(()=>{fetchClients();checkWhatsAppStatus();},[]);const fetchClients=async()=>{try{setLoading(true);const response=await api.get('/whatsapp/clients');setClients(response.data.data);}catch(error){console.error('Erro ao buscar clientes:',error);setError('Erro ao carregar lista de clientes');}finally{setLoading(false);}};const checkWhatsAppStatus=async()=>{try{const response=await api.get('/whatsapp/detailed-status');setWhatsappStatus(response.data.data);}catch(error){console.error('Erro ao verificar status do WhatsApp:',error);}};const handleSelectAll=checked=>{if(checked){setSelectedClients(clients.map(client=>client.id));}else{setSelectedClients([]);}};const handleSelectClient=(clientId,checked)=>{if(checked){setSelectedClients([...selectedClients,clientId]);}else{setSelectedClients(selectedClients.filter(id=>id!==clientId));}};const insertVariable=variable=>{const textarea=document.getElementById('message-textarea');const start=textarea.selectionStart;const end=textarea.selectionEnd;const newMessage=message.substring(0,start)+variable+message.substring(end);setMessage(newMessage);// Reposicionar cursor ap√≥s a vari√°vel inserida\nsetTimeout(()=>{textarea.focus();textarea.setSelectionRange(start+variable.length,start+variable.length);},0);};const handleFileChange=e=>{const file=e.target.files[0];if(file){// Verificar tipo de arquivo\nconst allowedTypes=['image/','video/','audio/','application/pdf','application/msword','application/vnd.openxmlformats-officedocument'];const isAllowed=allowedTypes.some(type=>file.type.startsWith(type));if(!isAllowed){setError('Tipo de arquivo n√£o suportado. Use imagens, v√≠deos, √°udios ou documentos.');return;}// Verificar tamanho (m√°ximo 16MB)\nif(file.size>16*1024*1024){setError('Arquivo muito grande. Tamanho m√°ximo: 16MB');return;}setMediaFile(file);setError('');// Criar preview para imagens\nif(file.type.startsWith('image/')){const reader=new FileReader();reader.onload=e=>setMediaPreview(e.target.result);reader.readAsDataURL(file);}else{setMediaPreview(null);}}};const removeMediaFile=()=>{setMediaFile(null);setMediaPreview(null);document.getElementById('media-input').value='';};const handleSendMessages=async()=>{if(selectedClients.length===0){setError('Selecione pelo menos um cliente');return;}if(!message.trim()&&!mediaFile){setError('Digite uma mensagem ou selecione um arquivo de m√≠dia');return;}if(!(whatsappStatus!==null&&whatsappStatus!==void 0&&whatsappStatus.ready)){setError('WhatsApp n√£o est√° conectado. Verifique a conex√£o antes de enviar mensagens.');return;}try{setSending(true);setError('');setResults(null);// Preparar dados para envio\nconst formData=new FormData();formData.append('clientIds',JSON.stringify(selectedClients));formData.append('message',message);if(mediaFile){formData.append('media',mediaFile);}const response=await api.post('/whatsapp/send-bulk',formData,{headers:{'Content-Type':'multipart/form-data'}});setResults(response.data.data);setSuccessMessage(\"Mensagens processadas: \".concat(response.data.data.summary.success,\" enviadas, \").concat(response.data.data.summary.errors,\" com erro\"));setSuccessOpen(true);// Limpar sele√ß√£o ap√≥s envio\nsetSelectedClients([]);setMessage('');removeMediaFile();}catch(error){var _error$response,_error$response$data;console.error('Erro ao enviar mensagens:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Erro ao enviar mensagens');}finally{setSending(false);}};const getSelectedClientsInfo=()=>{return clients.filter(client=>selectedClients.includes(client.id));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Envio de Mensagens WhatsApp\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Envie mensagens personalizadas para m\\xFAltiplos clientes via WhatsApp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 rounded-lg border\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:\"Status do WhatsApp\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full \".concat(whatsappStatus!==null&&whatsappStatus!==void 0&&whatsappStatus.ready?'bg-green-500':'bg-red-500')}),/*#__PURE__*/_jsx(\"span\",{className:whatsappStatus!==null&&whatsappStatus!==void 0&&whatsappStatus.ready?'text-green-700':'text-red-700',children:whatsappStatus!==null&&whatsappStatus!==void 0&&whatsappStatus.ready?'Conectado':'Desconectado'}),(whatsappStatus===null||whatsappStatus===void 0?void 0:(_whatsappStatus$info=whatsappStatus.info)===null||_whatsappStatus$info===void 0?void 0:_whatsappStatus$info.pushname)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"(\",whatsappStatus.info.pushname,\")\"]})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Selecionar Clientes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"select-all\",checked:selectedClients.length===clients.length&&clients.length>0,onChange:e=>handleSelectAll(e.target.checked),className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"select-all\",className:\"text-sm text-gray-700\",children:[\"Selecionar todos (\",clients.length,\")\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-96 overflow-y-auto border rounded\",children:clients.map(client=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-3 border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"client-\".concat(client.id),checked:selectedClients.includes(client.id),onChange:e=>handleSelectClient(client.id,e.target.checked),className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"client-\".concat(client.id),className:\"cursor-pointer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:client.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[client.phone&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCF1 \",client.phone]}),client.email&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2\",children:[\"\\u2709\\uFE0F \",client.email]})]}),client.cidade&&client.estado&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"\\uD83D\\uDCCD \",client.cidade,\", \",client.estado]})]})})]},client.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-sm text-gray-600\",children:[selectedClients.length,\" cliente(s) selecionado(s)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Compor Mensagem\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Vari\\xE1veis Dispon\\xEDveis:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2\",children:availableVariables.map(variable=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>insertVariable(variable.key),className:\"text-left p-2 text-xs bg-red-50 hover:bg-red-100 rounded border border-red-200 transition-colors\",title:variable.description,children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-mono text-red-700\",children:variable.key}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 text-xs\",children:variable.description})]},variable.key))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Anexar M\\xEDdia (Opcional)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border-2 border-dashed border-gray-300 rounded-lg p-4\",children:!mediaFile?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"media-input\",onChange:handleFileChange,accept:\"image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx\",className:\"hidden\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"media-input\",className:\"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"\\uD83D\\uDCCE Selecionar Arquivo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-2\",children:\"Suporte: Imagens, v\\xEDdeos, \\xE1udios, documentos (m\\xE1x. 16MB)\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[mediaPreview?/*#__PURE__*/_jsx(\"img\",{src:mediaPreview,alt:\"Preview\",className:\"w-12 h-12 object-cover rounded\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-200 rounded flex items-center justify-center\",children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:mediaFile.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[(mediaFile.size/1024/1024).toFixed(2),\" MB\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:removeMediaFile,className:\"text-red-600 hover:text-red-800 text-sm\",children:\"\\u274C Remover\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"message-textarea\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Mensagem \",mediaFile?'(Legenda)':'']}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message-textarea\",value:message,onChange:e=>setMessage(e.target.value),placeholder:mediaFile?\"Digite uma legenda para a m√≠dia (opcional)...\":\"Digite sua mensagem aqui. Use as vari√°veis acima para personalizar a mensagem para cada cliente.\",className:\"w-full h-40 p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[message.length,\" caracteres\"]})]}),message&&selectedClients.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Preview (primeiro cliente selecionado):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-50 border rounded text-sm\",children:(()=>{const firstClient=getSelectedClientsInfo()[0];if(!firstClient)return message;return message.replace(/{nome}/g,firstClient.name||'').replace(/{email}/g,firstClient.email||'').replace(/{telefone}/g,firstClient.phone||'').replace(/{documento}/g,firstClient.document||'').replace(/{cidade}/g,firstClient.cidade||'').replace(/{estado}/g,firstClient.estado||'');})()})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessages,disabled:sending||selectedClients.length===0||!message.trim()&&!mediaFile||!(whatsappStatus!==null&&whatsappStatus!==void 0&&whatsappStatus.ready),className:\"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-md transition-colors\",children:sending?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Enviando mensagens...\"]}):\"Enviar para \".concat(selectedClients.length,\" cliente(s)\")})]})]}),results&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Resultados do Envio\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-blue-50 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:results.summary.total}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-700\",children:\"Total\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-green-50 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:results.summary.success}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-700\",children:\"Enviadas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-red-50 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-red-600\",children:results.summary.errors}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-red-700\",children:\"Erros\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-64 overflow-y-auto\",children:results.results.map((result,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border-l-4 mb-2 \".concat(result.status==='success'?'border-green-500 bg-green-50':'border-red-500 bg-red-50'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:result.clientName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm \".concat(result.status==='success'?'text-green-700':'text-red-700'),children:result.message})]},index))})]}),/*#__PURE__*/_jsx(SuccessModal,{isOpen:successOpen,onClose:()=>setSuccessOpen(false),message:successMessage})]});};export default WhatsAppBulk;","map":{"version":3,"names":["React","useState","useEffect","api","SuccessModal","jsx","_jsx","jsxs","_jsxs","WhatsAppBulk","_whatsappStatus$info","clients","setClients","selectedClients","setSelectedClients","message","setMessage","loading","setLoading","sending","setSending","results","setResults","error","setError","successOpen","setSuccessOpen","successMessage","setSuccessMessage","whatsappStatus","setWhatsappStatus","mediaFile","setMediaFile","mediaPreview","setMediaPreview","availableVariables","key","description","fetchClients","checkWhatsAppStatus","response","get","data","console","handleSelectAll","checked","map","client","id","handleSelectClient","clientId","filter","insertVariable","variable","textarea","document","getElementById","start","selectionStart","end","selectionEnd","newMessage","substring","setTimeout","focus","setSelectionRange","length","handleFileChange","e","file","target","files","allowedTypes","isAllowed","some","type","startsWith","size","reader","FileReader","onload","result","readAsDataURL","removeMediaFile","value","handleSendMessages","trim","ready","formData","FormData","append","JSON","stringify","post","headers","concat","summary","success","errors","_error$response","_error$response$data","getSelectedClientsInfo","includes","className","children","info","pushname","onChange","htmlFor","name","phone","email","cidade","estado","onClick","title","accept","src","alt","toFixed","placeholder","firstClient","replace","disabled","total","index","status","clientName","isOpen","onClose"],"sources":["D:/OneDrive/Attachments/√Årea de Trabalho/projetos/COBRANCA_IBRA/frontend/src/pages/WhatsAppBulk.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport SuccessModal from '../components/SuccessModal';\n\nconst WhatsAppBulk = () => {\n  const [clients, setClients] = useState([]);\n  const [selectedClients, setSelectedClients] = useState([]);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [sending, setSending] = useState(false);\n  const [results, setResults] = useState(null);\n  const [error, setError] = useState('');\n  const [successOpen, setSuccessOpen] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [whatsappStatus, setWhatsappStatus] = useState(null);\n  const [mediaFile, setMediaFile] = useState(null);\n  const [mediaPreview, setMediaPreview] = useState(null);\n\n  // Vari√°veis dispon√≠veis para substitui√ß√£o\n  const availableVariables = [\n    { key: '{nome}', description: 'Nome do cliente' },\n    { key: '{email}', description: 'Email do cliente' },\n    { key: '{telefone}', description: 'Telefone do cliente' },\n    { key: '{documento}', description: 'CPF/CNPJ do cliente' },\n    { key: '{endereco}', description: 'Endere√ßo do cliente' },\n    { key: '{numero}', description: 'N√∫mero do endere√ßo' },\n    { key: '{bairro}', description: 'Bairro do cliente' },\n    { key: '{cidade}', description: 'Cidade do cliente' },\n    { key: '{estado}', description: 'Estado do cliente' },\n    { key: '{cep}', description: 'CEP do cliente' }\n  ];\n\n  useEffect(() => {\n    fetchClients();\n    checkWhatsAppStatus();\n  }, []);\n\n  const fetchClients = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/whatsapp/clients');\n      setClients(response.data.data);\n    } catch (error) {\n      console.error('Erro ao buscar clientes:', error);\n      setError('Erro ao carregar lista de clientes');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const checkWhatsAppStatus = async () => {\n    try {\n      const response = await api.get('/whatsapp/detailed-status');\n      setWhatsappStatus(response.data.data);\n    } catch (error) {\n      console.error('Erro ao verificar status do WhatsApp:', error);\n    }\n  };\n\n  const handleSelectAll = (checked) => {\n    if (checked) {\n      setSelectedClients(clients.map(client => client.id));\n    } else {\n      setSelectedClients([]);\n    }\n  };\n\n  const handleSelectClient = (clientId, checked) => {\n    if (checked) {\n      setSelectedClients([...selectedClients, clientId]);\n    } else {\n      setSelectedClients(selectedClients.filter(id => id !== clientId));\n    }\n  };\n\n  const insertVariable = (variable) => {\n    const textarea = document.getElementById('message-textarea');\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const newMessage = message.substring(0, start) + variable + message.substring(end);\n    setMessage(newMessage);\n    \n    // Reposicionar cursor ap√≥s a vari√°vel inserida\n    setTimeout(() => {\n      textarea.focus();\n      textarea.setSelectionRange(start + variable.length, start + variable.length);\n    }, 0);\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      // Verificar tipo de arquivo\n      const allowedTypes = ['image/', 'video/', 'audio/', 'application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument'];\n      const isAllowed = allowedTypes.some(type => file.type.startsWith(type));\n      \n      if (!isAllowed) {\n        setError('Tipo de arquivo n√£o suportado. Use imagens, v√≠deos, √°udios ou documentos.');\n        return;\n      }\n\n      // Verificar tamanho (m√°ximo 16MB)\n      if (file.size > 16 * 1024 * 1024) {\n        setError('Arquivo muito grande. Tamanho m√°ximo: 16MB');\n        return;\n      }\n\n      setMediaFile(file);\n      setError('');\n\n      // Criar preview para imagens\n      if (file.type.startsWith('image/')) {\n        const reader = new FileReader();\n        reader.onload = (e) => setMediaPreview(e.target.result);\n        reader.readAsDataURL(file);\n      } else {\n        setMediaPreview(null);\n      }\n    }\n  };\n\n  const removeMediaFile = () => {\n    setMediaFile(null);\n    setMediaPreview(null);\n    document.getElementById('media-input').value = '';\n  };\n\n  const handleSendMessages = async () => {\n    if (selectedClients.length === 0) {\n      setError('Selecione pelo menos um cliente');\n      return;\n    }\n\n    if (!message.trim() && !mediaFile) {\n      setError('Digite uma mensagem ou selecione um arquivo de m√≠dia');\n      return;\n    }\n\n    if (!whatsappStatus?.ready) {\n      setError('WhatsApp n√£o est√° conectado. Verifique a conex√£o antes de enviar mensagens.');\n      return;\n    }\n\n    try {\n      setSending(true);\n      setError('');\n      setResults(null);\n\n      // Preparar dados para envio\n      const formData = new FormData();\n      formData.append('clientIds', JSON.stringify(selectedClients));\n      formData.append('message', message);\n      \n      if (mediaFile) {\n        formData.append('media', mediaFile);\n      }\n\n      const response = await api.post('/whatsapp/send-bulk', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      setResults(response.data.data);\n      setSuccessMessage(`Mensagens processadas: ${response.data.data.summary.success} enviadas, ${response.data.data.summary.errors} com erro`);\n      setSuccessOpen(true);\n      \n      // Limpar sele√ß√£o ap√≥s envio\n      setSelectedClients([]);\n      setMessage('');\n      removeMediaFile();\n\n    } catch (error) {\n      console.error('Erro ao enviar mensagens:', error);\n      setError(error.response?.data?.message || 'Erro ao enviar mensagens');\n    } finally {\n      setSending(false);\n    }\n  };\n\n  const getSelectedClientsInfo = () => {\n    return clients.filter(client => selectedClients.includes(client.id));\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Envio de Mensagens WhatsApp</h1>\n        <p className=\"text-gray-600\">Envie mensagens personalizadas para m√∫ltiplos clientes via WhatsApp</p>\n      </div>\n\n      {/* Status do WhatsApp */}\n      <div className=\"mb-6 p-4 rounded-lg border\">\n        <h3 className=\"text-lg font-semibold mb-2\">Status do WhatsApp</h3>\n        <div className=\"flex items-center space-x-2\">\n          <div className={`w-3 h-3 rounded-full ${whatsappStatus?.ready ? 'bg-green-500' : 'bg-red-500'}`}></div>\n          <span className={whatsappStatus?.ready ? 'text-green-700' : 'text-red-700'}>\n            {whatsappStatus?.ready ? 'Conectado' : 'Desconectado'}\n          </span>\n          {whatsappStatus?.info?.pushname && (\n            <span className=\"text-gray-600\">({whatsappStatus.info.pushname})</span>\n          )}\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded\">\n          {error}\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Sele√ß√£o de Clientes */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-xl font-semibold\">Selecionar Clientes</h2>\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                id=\"select-all\"\n                checked={selectedClients.length === clients.length && clients.length > 0}\n                onChange={(e) => handleSelectAll(e.target.checked)}\n                className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n              />\n              <label htmlFor=\"select-all\" className=\"text-sm text-gray-700\">\n                Selecionar todos ({clients.length})\n              </label>\n            </div>\n          </div>\n\n          <div className=\"max-h-96 overflow-y-auto border rounded\">\n            {clients.map((client) => (\n              <div key={client.id} className=\"flex items-center p-3 border-b hover:bg-gray-50\">\n                <input\n                  type=\"checkbox\"\n                  id={`client-${client.id}`}\n                  checked={selectedClients.includes(client.id)}\n                  onChange={(e) => handleSelectClient(client.id, e.target.checked)}\n                  className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3\"\n                />\n                <div className=\"flex-1\">\n                  <label htmlFor={`client-${client.id}`} className=\"cursor-pointer\">\n                    <div className=\"font-medium text-gray-900\">{client.name}</div>\n                    <div className=\"text-sm text-gray-600\">\n                      {client.phone && <span>üì± {client.phone}</span>}\n                      {client.email && <span className=\"ml-2\">‚úâÔ∏è {client.email}</span>}\n                    </div>\n                    {client.cidade && client.estado && (\n                      <div className=\"text-xs text-gray-500\">\n                        üìç {client.cidade}, {client.estado}\n                      </div>\n                    )}\n                  </label>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"mt-4 text-sm text-gray-600\">\n            {selectedClients.length} cliente(s) selecionado(s)\n          </div>\n        </div>\n\n        {/* Composi√ß√£o da Mensagem */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Compor Mensagem</h2>\n          \n          {/* Vari√°veis Dispon√≠veis */}\n          <div className=\"mb-4\">\n            <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Vari√°veis Dispon√≠veis:</h3>\n            <div className=\"grid grid-cols-2 gap-2\">\n              {availableVariables.map((variable) => (\n                <button\n                  key={variable.key}\n                  onClick={() => insertVariable(variable.key)}\n                  className=\"text-left p-2 text-xs bg-red-50 hover:bg-red-100 rounded border border-red-200 transition-colors\"\n                  title={variable.description}\n                >\n                  <span className=\"font-mono text-red-700\">{variable.key}</span>\n                  <div className=\"text-gray-600 text-xs\">{variable.description}</div>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Upload de M√≠dia */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Anexar M√≠dia (Opcional)\n            </label>\n            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4\">\n              {!mediaFile ? (\n                <div className=\"text-center\">\n                  <input\n                    type=\"file\"\n                    id=\"media-input\"\n                    onChange={handleFileChange}\n                    accept=\"image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx\"\n                    className=\"hidden\"\n                  />\n                  <label\n                    htmlFor=\"media-input\"\n                    className=\"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n                  >\n                    üìé Selecionar Arquivo\n                  </label>\n                  <p className=\"text-xs text-gray-500 mt-2\">\n                    Suporte: Imagens, v√≠deos, √°udios, documentos (m√°x. 16MB)\n                  </p>\n                </div>\n              ) : (\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-3\">\n                    {mediaPreview ? (\n                      <img src={mediaPreview} alt=\"Preview\" className=\"w-12 h-12 object-cover rounded\" />\n                    ) : (\n                      <div className=\"w-12 h-12 bg-gray-200 rounded flex items-center justify-center\">\n                        üìÑ\n                      </div>\n                    )}\n                    <div>\n                      <div className=\"text-sm font-medium text-gray-900\">{mediaFile.name}</div>\n                      <div className=\"text-xs text-gray-500\">\n                        {(mediaFile.size / 1024 / 1024).toFixed(2)} MB\n                      </div>\n                    </div>\n                  </div>\n                  <button\n                    onClick={removeMediaFile}\n                    className=\"text-red-600 hover:text-red-800 text-sm\"\n                  >\n                    ‚ùå Remover\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Campo de Mensagem */}\n          <div className=\"mb-4\">\n            <label htmlFor=\"message-textarea\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Mensagem {mediaFile ? '(Legenda)' : ''}\n            </label>\n            <textarea\n              id=\"message-textarea\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder={mediaFile ? \"Digite uma legenda para a m√≠dia (opcional)...\" : \"Digite sua mensagem aqui. Use as vari√°veis acima para personalizar a mensagem para cada cliente.\"}\n              className=\"w-full h-40 p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n            />\n            <div className=\"text-xs text-gray-500 mt-1\">\n              {message.length} caracteres\n            </div>\n          </div>\n\n          {/* Preview da Mensagem */}\n          {message && selectedClients.length > 0 && (\n            <div className=\"mb-4\">\n              <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Preview (primeiro cliente selecionado):</h3>\n              <div className=\"p-3 bg-gray-50 border rounded text-sm\">\n                {(() => {\n                  const firstClient = getSelectedClientsInfo()[0];\n                  if (!firstClient) return message;\n                  \n                  return message\n                    .replace(/{nome}/g, firstClient.name || '')\n                    .replace(/{email}/g, firstClient.email || '')\n                    .replace(/{telefone}/g, firstClient.phone || '')\n                    .replace(/{documento}/g, firstClient.document || '')\n                    .replace(/{cidade}/g, firstClient.cidade || '')\n                    .replace(/{estado}/g, firstClient.estado || '');\n                })()}\n              </div>\n            </div>\n          )}\n\n          {/* Bot√£o de Envio */}\n          <button\n            onClick={handleSendMessages}\n            disabled={sending || selectedClients.length === 0 || (!message.trim() && !mediaFile) || !whatsappStatus?.ready}\n            className=\"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-md transition-colors\"\n          >\n            {sending ? (\n              <div className=\"flex items-center justify-center\">\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                Enviando mensagens...\n              </div>\n            ) : (\n              `Enviar para ${selectedClients.length} cliente(s)`\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Resultados do Envio */}\n      {results && (\n        <div className=\"mt-6 bg-white rounded-lg shadow p-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Resultados do Envio</h2>\n          \n          <div className=\"grid grid-cols-3 gap-4 mb-4\">\n            <div className=\"text-center p-4 bg-blue-50 rounded\">\n              <div className=\"text-2xl font-bold text-blue-600\">{results.summary.total}</div>\n              <div className=\"text-sm text-blue-700\">Total</div>\n            </div>\n            <div className=\"text-center p-4 bg-green-50 rounded\">\n              <div className=\"text-2xl font-bold text-green-600\">{results.summary.success}</div>\n              <div className=\"text-sm text-green-700\">Enviadas</div>\n            </div>\n            <div className=\"text-center p-4 bg-red-50 rounded\">\n              <div className=\"text-2xl font-bold text-red-600\">{results.summary.errors}</div>\n              <div className=\"text-sm text-red-700\">Erros</div>\n            </div>\n          </div>\n\n          <div className=\"max-h-64 overflow-y-auto\">\n            {results.results.map((result, index) => (\n              <div key={index} className={`p-3 border-l-4 mb-2 ${result.status === 'success' ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50'}`}>\n                <div className=\"font-medium\">{result.clientName}</div>\n                <div className={`text-sm ${result.status === 'success' ? 'text-green-700' : 'text-red-700'}`}>\n                  {result.message}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <SuccessModal\n        isOpen={successOpen}\n        onClose={() => setSuccessOpen(false)}\n        message={successMessage}\n      />\n    </div>\n  );\n};\n\nexport default WhatsAppBulk;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}